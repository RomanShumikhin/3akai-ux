<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/filerevisions/css/filerevisions.css" />

<!-- DIALOG -->
<div class="dialog" id="filerevisions_dialog">
    <!-- HEADER -->
    <div class="dialog_header">
        <div class="dialog_header_inner">
            <h1>__MSG__FILE_REVISIONS__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
        </div>
    </div>

    <!-- CONTENT -->
    <div class="dialog_content">
        <div id="filerevisions_template_container"><!-- --></div>
    </div>

    <!-- DIALOG FOOTER -->
    <div class="dialog_footer">
        <div class="dialog_footer_inner"><!-- --></div>
    </div>
</div>

    <!-- REVISION TEMPLATE -->
    <div id="filerevisions_template"><!--
        <ul>
            <li class="li_greybg">
                <span class="filerevisions_lefthand_description">__MSG__FILE__</span>
                <span class="filerevisions_list_content filerevision_list_content_basefilename">${data["sakai:pooled-content-file-name"]}</span>
            </li>
            <li>
                <span class="filerevisions_lefthand_description">__MSG__CREATED__</span>
                <span class="filerevisions_list_content">${data["created"]} __MSG__BY__: <a href="javascript:;" class="filerevisions_editor_name">${data["jcr:createdBy"]}</a></span>
            </li>
            {for i in data.revisions}
                {if i["jcr:name"] != "jcr:rootVersion"}
                    <li class="{if Math.round((i_index % 0.2) * 10) != 2}li_greybg{/if}">
                        <span class="filerevisions_lefthand_description">__MSG__REVISED__</span>
                        <span class="filerevisions_list_content">${i["jcr:created"]} __MSG__BY__: <a href="javascript:;" class="filerevisions_editor_name"> ${sakai.api.User.getDisplayName(i["sakai:savedBy"])}</a></span>
                        <a href="${data.path}.version.,${i["jcr:name"]}," title="__MSG__SHOW_VERSION__ ${i["jcr:name"]}" target="_blank" class="filerevisions_download_version"> __MSG__DOWNLOAD__</a>
                    </li>
                {/if}
            {/for}
            <button type="button" id="filerevisions_close" class="s3d-button s3d-button-primary jqmClose dialog_close_image">
                <span class="s3d-button-inner">__MSG__CLOSE__</span>
            </button>
            <hr/>
        </ul>
    --></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/filerevisions/javascript/filerevisions.js"></script>