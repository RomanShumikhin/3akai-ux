<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/mytasks/css/mytasks.css" />
<link rel="stylesheet" type="text/css" href="/devwidgets/myevents/css/myevents.css" />

<div class="myevents_widget">

    <div class="fl-widget-content s3d-widget-content">

        <div class="noticewidget_list_view">
            <div class="noticewidget_filter_control_indicator closed">&nbsp;</div>
            <div class="noticewidget_filter_control">Filter</div>

            <div id="myevents_filter" class="noticewidget_filter" style="display:none;">
                <div class="noticewidget_filter_status">
                    Display item status:
                    <div>
                        <input type="radio" name="myevents_item_status" id="myevents_item_status_all" value="all" checked="checked">
                        <label for="myevents_item_status_all">All</label>
                    </div>
                    <div>
                        <input type="radio" name="myevents_item_status" id="myevents_item_status_required" value="required">
                        <label for="myevents_item_status_required">Only required</label>
                    </div>

                    <div>
                        <input type="radio" name="myevents_item_status" id="myevents_item_status_unrequired" value="unrequired">
                        <label for="myevents_item_status_unrequired">Only unrequired</label>
                    </div>
                </div>
                <div class="myevents_filter_daterange">
                    Display date range:
                    <div>
                        <input type="radio" name="myevents_date_range" id="myevents_date_range_all" value="all">
                        <label for="myevents_date_range_all">All</label>
                    </div>
                    <div>
                        <input type="radio" name="myevents_date_range" id="myevents_date_range_next7" value="next7">
                        <label for="myevents_date_range_next7">Next 7 days</label>
                    </div>
                    <div>
                        <input type="radio" name="myevents_date_range" id="myevents_date_range_next30" value="next30" checked="checked">
                        <label for="myevents_date_range_next30">Next 30 days</label>
                    </div>
                </div>

            </div>

            <table class="noticewidget_listing myevents_listing">
                <thead>
                    <th id="myevents_sortOn_sakai:eventDate" class="noticewidget_listing_sort" title="__MSG__DUE__">__MSG__DUE__<span class="noticewidget_sort_indicator ascending">&nbsp;</span></th>
                    <th id="myevents_sortOn_sakai:subject" class="noticewidget_listing_sort" title="__MSG__SUBJECT__">__MSG__SUBJECT__</th>
                    <th id="myevents_sortOn_sakai:required" class="noticewidget_listing_sort" title="__MSG__REQUIRED__">__MSG__REQ__</th>
                </thead>

                <tbody class="noticewidget_list events_list"><!-- filled by trimpath --></tbody>
            </table>
        </div>

        <div class="noticewidget_detail_view" style="display:none">
            <div class="noticewidget_detail_controls">
                <span class="return_to_list_container">
                    <span class="return_to_list">__MSG__RETURN_TO_EVENT_LIST__</span>
                    <span class="return_to_list_right_corner">&nbsp;</span>
                </span>
                <span class="noticewidget_arrows">
                    <span class="prev" title="__MSG__PREVIOUS__">
                        <span class="prevArrow">&nbsp;</span>
                    </span>
                    <span class="next" title="__MSG__NEXT__">
                        <span class="nextArrow">&nbsp;</span>
                    </span>
                </span>
            </div>
            <div class="noticewidget_detail"><!-- filled by trimpath --></div>
        </div>

    </div>

    <div id="myevents_template" style="display:none"><!--
        {var isEmpty = true}
        {for i in results}
            {if i["sakai:messagebox"] === "inbox" && i["sakai:eventPlace"] != null}
                {var isEmpty = false}
                <tr class="notice_row{if i_index % 2 === 0} alternate{/if}">
                        {var dateString = sakai.myb.noticewidgets.formatDateAsString(i['sakai:eventDate'])}
                        <td id="myeventstddate_${i_index}" class="dateLine detailTrigger">${dateString}</td>
                        <td id="myeventstdsubj_${i_index}" class="subjectLine detailTrigger" title="${i['sakai:subject']}">${i['sakai:subject']}</td>
                        <td id="myeventstdreq_${i_index}" class="detailTrigger" >!</td>
                </tr>
             {/if}
        {/for}
        
        {if isEmpty == true}
            <tr class="empty_list"><td colspan="3">__MSG__YOU_HAVE_NO_EVENTS__</td></tr>
        {/if}
        -->
    </div>

    <div id="myevents_detail_template" style="display:none"><!--
        {var dateString = sakai.myb.noticewidgets.formatDateAsString(detail['sakai:eventDate'])}

        <h3>${detail["sakai:subject"]}</h3>
        <h4>Event Date: ${dateString}</h4>

        <p>${detail["sakai:body"]}</p>
        -->
    </div>

    <div class="fl-widget-options fl-fix">
        <div class="widget-options-inner">
            <ul>
                <li>
                    footer link goes here
                </li>
            </ul>
        </div>
        <div class="s3d-widget-options-footer-left">
            <div class="s3d-widget-options-footer-right">
            </div>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/mytasks/javascript/mytasks.js"></script>
