<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/mytasks/css/mytasks.css" />

<div class="mytasks_widget">

    <div class="fl-widget-content s3d-widget-content">

        <div id="mytasks_filter_control">Filter</div>

        <div id="mytasks_filter" style="display:none;">
            <div class="mytasks_filter_status">
                Display item status:
                <div>
                    <input type="radio" name="item_status" id="mytasks_item_status_all" value="">
                    <label for="mytasks_item_status_all">All</label>
                </div>
                <div>
                    <input type="radio" name="item_status" id="mytasks_item_status_required" value="required">
                    <label for="mytasks_item_status_required">Only required</label>
                </div>

                <div>
                    <input type="radio" name="item_status" id="mytasks_item_status_unrequired" value="unrequired">
                    <label for="mytasks_item_status_unrequired">Only unrequired</label>
                </div>
            </div>
            <div class="mytasks_filter_daterange">
                Display date range:
                <div>
                    <input type="radio" name="date_range" id="mytasks_date_range_all" value="">
                    <label for="mytasks_date_range_all">All</label>
                </div>
                <div>
                    <input type="radio" name="date_range" id="mytasks_date_range_overdue" value="overdue">
                    <label for="mytasks_date_range_overdue">Overdue</label>
                </div>
                <div>
                    <input type="radio" name="date_range" id="mytasks_date_range_next7" value="next7">
                    <label for="mytasks_date_range_next7">Next 7 days</label>
                </div>
                <div>
                    <input type="radio" name="date_range" id="mytasks_date_range_next30" value="next30">
                    <label for="mytasks_date_range_next30">Next 30 days</label>
                </div>
            </div>

        </div>

        <table class="mytasks">
            <thead>
                <th title="__MSG__DUE__">__MSG__DUE__</th>
                <th title="__MSG__SUBJECT__">__MSG__SUBJECT__</th>
                <th title="__MSG__REQUIRED__">__MSG__REQ__</th>
                <th title="__MSG__COMPLETED__">__MSG__COMPLETED__</th>
            </thead>

            <tbody class="tasks_list"><!-- filled by trimpath --></tbody>
        </table>
    </div>
    
    <div id="mytasks_template" style="display:none"><!--
        {var isEmpty = true}
        {for i in results}
            {if i["sakai:messagebox"] === "inbox" && i["sakai:eventPlace"] == null}
                {var isEmpty = false}
                <tr id="tr_${i.id}">
                        {var dateString = sakai.myb.noticewidgets.formatDateAsString(i['sakai:dueDate']) || sakai.myb.noticewidgets.formatDateAsString(i['sakai:eventDate'])}
                        <td class="dateLine">${dateString}</td>
                        <td class="subjectLine" title="${i['sakai:subject']}">${i['sakai:subject']}</td>
                        <td>!</td>
                        <td><input type="checkbox" class="s3s-reminder-checkbox" id="reminderDone_${i.id}" title="Completed" value="${i['jcr:path']}" /></td>
                </tr>
             {/if}
        {/for}
        
        {if isEmpty == true}
            <tr class="notasks"><td>You have no tasks</td></tr>
        {/if}
        -->
    </div>
    
    <div class="fl-widget-options fl-fix">
        <div class="widget-options-inner">
            <ul>
                <li>
                    footer link goes here
                </li>
            </ul>
        </div>
        <div class="s3d-widget-options-footer-left">
            <div class="s3d-widget-options-footer-right">
            </div>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/mytasks/javascript/mytasks.js"></script>
